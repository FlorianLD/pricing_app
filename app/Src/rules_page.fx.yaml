rules_page As screen:
    Fill: =Color.White
    LoadingSpinnerColor: =App.Theme.Colors.Primary

    "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        BorderColor: =App.Theme.Colors.Darker40
        DelayItemLoading: =true
        Height: =539
        Items: =rules
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplatePadding: =0
        TemplateSize: =82
        X: =330
        Y: =60
        ZIndex: =1

        Title1 As label:
            Color: =RGBA(50, 49, 48, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =App.Theme.Font
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =Self.Size * 1.8
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.Title
            VerticalAlign: =VerticalAlign.Top
            Width: =Parent.TemplateWidth - 173
            X: =103
            Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + Subtitle1.Size * 1.8)) / 2
            ZIndex: =2

        Separator1 As rectangle:
            BorderColor: =App.Theme.Colors.Darker40
            Fill: =RGBA(255, 255, 255, 1)
            Height: =8
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - Self.Height
            ZIndex: =5

        Rectangle3 As rectangle:
            BorderColor: =App.Theme.Colors.Darker40
            Fill: =App.Theme.Colors.Darker30
            Height: =Parent.TemplateHeight - Separator1.Height
            OnSelect: =Select(Parent)
            Visible: =ThisItem.IsSelected
            Width: =4
            ZIndex: =6

        Subtitle1_1 As label:
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =App.Theme.Font
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =23
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =12
            Text: |-
                =Switch(
                    true,
                    IsBlank(ThisItem.product_id) = false, "Product: "&ThisItem.product_id,
                    IsBlank(ThisItem.category) = false, "Category: "&ThisItem.category,
                    "General rule"
                )
            VerticalAlign: =VerticalAlign.Top
            Width: =103
            X: =46
            Y: =14
            ZIndex: =7

        Toggle1 As Toggle:
            Checked: |-
                =If(
                    ThisItem.status = "active",
                    true,
                    false
                )
            DisplayMode: =DisplayMode.Edit
            Height: =35
            Label: =
            OnCheck: |-
                =Patch(
                    rules,
                    LookUp(rules, id = ThisItem.id),
                    { status: "active" }
                )
            OnSelect: =Select(Parent)
            OnUncheck: |-
                =Patch(
                    rules,
                    LookUp(rules, id = ThisItem.id),
                    { status: "inactive" }
                )
            Width: =69
            X: =501
            Y: =25
            ZIndex: =8

        "TextInputCanvas4 As 'Text input'":
            Appearance: ='TextInputCanvas.Appearance'.FilledLighter
            DisplayMode: =DisplayMode.Edit
            Height: =32
            Value: |-
                ="Minimum price: "&ThisItem.operand1
            Width: =171
            X: =33
            Y: =40
            ZIndex: =11

        "TextInputCanvas4_1 As 'Text input'":
            Appearance: ='TextInputCanvas.Appearance'.FilledLighter
            DisplayMode: =DisplayMode.Edit
            Height: =32
            Value: |-
                ="Maximum price: "&ThisItem.operand2
            Width: =168
            X: =222
            Y: =40
            ZIndex: =12

        sectionSeparator_4 As icon.VerticalLine:
            BorderColor: =App.Theme.Colors.Lighter10
            Color: =RGBA(0, 0, 0, 0)
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(244, 244, 244, 1)
            Fill: =Color.LightGray
            FocusedBorderThickness: =0
            Height: =0.5
            Icon: =Icon.HorizontalLine
            Width: =583
            X: =46
            Y: =82
            ZIndex: =13

        ButtonCanvas1 As Button:
            DisplayMode: =DisplayMode.Edit
            Height: =23
            Icon: ="Delete"
            OnSelect: =Select(Parent)
            Text: =
            Width: =26
            X: =603
            Y: =31
            ZIndex: =14

        ButtonCanvas1_1 As Button:
            DisplayMode: =DisplayMode.Edit
            Height: =23
            Icon: ="Edit"
            OnSelect: =Select(Parent)
            Text: =
            Width: =26
            X: =570
            Y: =31
            ZIndex: =15

    Rectangle4 As rectangle:
        BorderColor: =RGBA(0, 0, 0, 1)
        BorderThickness: =1
        Fill: =RGBA(255, 255, 255, 1)
        Height: =232
        Width: =901
        X: =130
        Y: =445
        ZIndex: =2

    Label4_1 As label:
        BorderColor: =App.Theme.Colors.Darker40
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Font: =App.Theme.Font
        Size: =13
        Text: ="Products of category "
        Width: =189
        X: =141
        Y: =562
        ZIndex: =4

    "NumberInput4 As 'Number input'":
        DisplayMode: =DisplayMode.Edit
        Height: =36
        Width: =99
        X: =439
        Y: =566
        ZIndex: =5

    "NumberInput4_1 As 'Number input'":
        DisplayMode: =DisplayMode.Edit
        Height: =36
        Width: =99
        X: =624
        Y: =566
        ZIndex: =6

    ButtonCanvas3 As Button:
        DisplayMode: =DisplayMode.Edit
        Height: =32
        Icon: ="Add"
        Text: ="New rule"
        Width: =112
        X: =847
        Y: =28
        ZIndex: =7

    ruleDD As Dropdown.pcfdataset:
        DisplayMode: =DisplayMode.Edit
        Height: =35
        Items: =["Product rule", "Category rule", "General rule"]
        Width: =141
        X: =165
        Y: =509
        ZIndex: =8

    Label4_2 As label:
        BorderColor: =App.Theme.Colors.Darker40
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Font: =App.Theme.Font
        Size: =13
        Text: ="Rule type"
        Width: =141
        X: =165
        Y: =469
        ZIndex: =9

    DropdownCanvas3_1 As Dropdown.pcfdataset:
        DisplayMode: =DisplayMode.Edit
        Height: =35
        Items: =["Product rule", "Category rule", "General rule"]
        Width: =141
        X: =360
        Y: =500
        ZIndex: =10

    ComboboxCanvas1 As Combobox.pcfdataset:
        DisplayMode: =DisplayMode.Edit
        Height: =32
        Items: |-
            =Filter(
                product_data,
                status = "Active"
            )
        Width: =320
        X: =538
        Y: =500
        ZIndex: =11

        id1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="id"
            FieldName: ="field_0"
            FieldType: ="n"
            FieldVariantName: ="textualColumn"
            Order: =1
            ZIndex: =16

        name1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="name"
            FieldName: ="Title"
            FieldType: ="s"
            FieldVariantName: ="textualColumn"
            Order: =2
            ZIndex: =17

        price1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="price"
            FieldName: ="field_2"
            FieldType: ="n"
            FieldVariantName: ="textualColumn"
            Order: =3
            ZIndex: =18

        start_date1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="start_date"
            FieldName: ="field_3"
            FieldType: ="d"
            FieldVariantName: ="textualColumn"
            Order: =4
            ZIndex: =19

        end_date1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="end_date"
            FieldName: ="field_4"
            FieldType: ="d"
            FieldVariantName: ="textualColumn"
            Order: =5
            ZIndex: =20

        status1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="status"
            FieldName: ="field_5"
            FieldType: ="s"
            FieldVariantName: ="textualColumn"
            Order: =6
            ZIndex: =21

        start_date_notime1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="start_date_notime"
            FieldName: ="start_date_notime"
            FieldType: ="D"
            FieldVariantName: ="textualColumn"
            Order: =7
            ZIndex: =22

        Attachments1 As PowerApps_CoreControls_ComboboxCanvasTemplate_dataField.textualColumn:
            FieldDisplayName: ="Attachments"
            FieldName: ="{Attachments}"
            FieldType: ="r*"
            FieldVariantName: ="textualColumn"
            Order: =8
            ZIndex: =23

